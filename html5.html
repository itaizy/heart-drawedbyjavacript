<!doctype html>
<html>
<head>
<title>taitai</title>
</head>
<body>
<div style="position: absolute; top: 50%; left: 50%;z-index:2; width: 100px; height: 100px; "><p style="font-family:\534E\6587\884C\6977;font-size: 50px; margin:-40px 0 0 -40px;font-weight: 8px; color: #FF0000">雨歌</p></div>
<canvas id="c" width="100%" height="100%" style="margin:0;padding:0;position:absolute;left:0;top:0;width:100%;height:100%;" ></canvas>
  <script type="text/javascript">
	var c = document.getElementById("c");
	var a = c.getContext("2d");
	e=[];
	h=[];
	c.width=O=screen.availWidth;
	c.height=Q=screen.availHeight;
	v=32;
	M=Math;
	R=M.random;
	C=M.cos;
	Y=6.3;
	for(i=0;i<Y;i+=0.2)
		h.push([O/2+180*M.pow(M.sin(i),3),Q/2+10*-(15*C(i)-5*C(2*i)-2*C(3*i)-C(4*i))]);
	for(i=0;i<v;)
	{
		x=R()*O;
		y=R()*Q;
		H=80*(i/v)+280;
		S=40*R()+60;
		B=60*R()+20;
		f=[];
		for(k=0;k<v;)
		    f[k++]={
		    x:x,y:y,X:0,Y:0,R:1-k/v+1,S:R()+1,q:~~(R()*v),D:2*(i%2)-1,F:0.2*R()+0.7,f:"hsla("+~~H+","+~~S+"%,"+~~B+"%,.1)"};e[i++]=f}
function _(d)
{
	a.fillStyle=d.f;
	a.beginPath();
	a.arc(d.x,d.y,d.R,0,Y,1);
	a.closePath();
	a.fill()
}
setInterval(function()
{
	a.fillStyle="rgba(0,0,0,.2)";
	a.fillRect(0,0,O,Q);
	for(i=v;i--;)
	{
		f=e[i];
		u=f[0];
		q=h[u.q];
		D=u.x-q[0];
		E=u.y-q[1];
		G=M.sqrt(D*D+E*E);
		10>G&&(0.95<R()?u.q=~~(R()*v):(0.99<R()&&(u.D*=-1),u.q+=u.D,u.q%=v,0>u.q&&(u.q+=v)));
		u.X+=-D/G*u.S;u.Y+=-E/G*u.S;u.x+=u.X;u.y+=u.Y;_(u);
		u.X*=u.F;
		u.Y*=u.F;
		for(k=0;k<v-1;)
		T=f[k],N=f[++k],N.x-=0.7*(N.x-T.x),N.y-=0.7*(N.y-T.y),_(N)
	}
},25);
	</script>
</body>
</html>
